<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=9"/>
  <!-- For Mobile Devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="Doxygen 1.8.13"/>
    <title>MoDeNa: applications/PUfoam/MoDeNaModels/CFD_tool_3D/applications/postProcessBSD/postProcessBSD.C Source File</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
/*@cond
  ooo        ooooo               .   oooo           oooo
  `88.       .888'             .o8   `888           `888
   888b     d'888   .oooo.   .o888oo  888 .oo.       888  .oooo.   oooo    ooo 
   8 Y88. .P  888  `P  )88b    888    888P"Y88b      888 `P  )88b   `88b..8P'
   8  `888'   888   .oP"888    888    888   888      888  .oP"888     Y888'
   8    Y     888  d8(  888    888 .  888   888      888 d8(  888   .o8"'88b
  o8o        o888o `Y888""8o   "888" o888o o888o .o. 88P `Y888""8o o88'   888o 
                                                 `Y888P
@endcond*/
/*
@brief     File configurating the connection to MathJax JavaScript display engine 
@author    Sigve Karolius
@date      2016.12.10
@details
         The script was made following the [Official Documentation].
         [Official Documentation]: http://docs.mathjax.org/en/latest/index.html
@bug
@todo
@warning
@note
*/
//<script type="text/x-mathjax-config">
/*
@brief: Main Control structure for MathJax
@note:
      [Official Documentation](http://docs.mathjax.org/en/latest/api/hub.html)
*/
MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    /// List of input and output jax to initialize at startup
    jax: ["input/TeX","output/HTML-CSS"],
    /// Preprocessor run when "tex2jax.js" is included in extensions list
    tex2jax: {
           /// Tags whose contents should not be processed by tex2jax
           skipTags: [
                       "script","noscript","style","textarea","pre","code",
           ],
           inlineMath: [['$','$'], ['\\(','\\)']],
           /// Pairs of strings used as in-line math delimters
           inlineMath: [['$','$'],['\\(','\\)']],
           /// Strings used as delimters for displayed equation
           displayMath: [['$$','$$'],['\\[','\\]']],
           /// Process LaTeX environments (\begin{something}) outside of "math"
           processEnvironments: true,
           /// Insert the text 'LaTeX math' as the preview
           preview: [" [LaTeX math] "],
           /// Tell MJ to process escapes (true because of $ in inline math
           processEscapes: true,  // Use \$ to represent literal dollar sign...
    },
    /// Control the TeX processor (run when you include "input/TeX" in jax)
    TeX: {
           /// MathJax has many TeX symbols and commands, but we need more...
           extensions: ["color.js"],
           equationNumbers: {
                autoNumber: "AMS",
           },
           /// Macros defined before the TeX input processor begins
           Macros: {
              xspace: '',     // not processed by MathJax, replace empty string
              ensuremath: '', // not processed by MathJax, replace empty string
           },
    },
});
/*
@brief: Registers a listener for a particular message being sent to the startup signal
@date:  2016.12.10
@note:
      [Official Documentation](http://docs.mathjax.org/en/latest/api/hub.html)
*/
MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
  MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
    cancel: ["Extension","cancel"],
    bcancel: ["Extension","cancel"],
    xcancel: ["Extension","cancel"],
    cancelto: ["Extension","cancel"],
    textcolor: ["Extension", "color"],
  });
});
//</script>
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <!--  .......................................................................
        Syntax Highlighting
        .......................................................................
  <script type="text/javascript" src="highlight.pack.js"></script>
  <script type="text/javascript">
  $(function() {
    $(".fragment").each(function(i,node) {
        var $node = $(node);
        $node.html("<pre><code class='" +
                   $node.attr("class")+"'>" + 
                   $node.text()+"</code></pre>");
        hljs.highlightBlock(node);
    });
  });
  </script>
  -->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="modena_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MoDeNa
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Software framework facilitating sequential multi-scale modelling</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00578_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">postProcessBSD.C</div>  </div>
</div><!--header-->
<div class="contents">
<a href="a00578.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*---------------------------------------------------------------------------*\</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">  =========                 |</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">  \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">   \\    /   O peration     |</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">    \\  /    A nd           | Copyright (C) 2016 OpenFOAM Foundation</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">     \\/     M anipulation  |</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">-------------------------------------------------------------------------------</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">License</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">    This file is part of OpenFOAM.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">    OpenFOAM is free software: you can redistribute it and/or modify it</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">    under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">    the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">    (at your option) any later version.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">    OpenFOAM is distributed in the hope that it will be useful, but WITHOUT</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">    ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">    FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">    for more details.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">    You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">    along with OpenFOAM.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">Application</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">    postProcessBSD</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">Description</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">    This is a post-processing application to analyze the results of population balance equation. It calcualtes the mean and variance of bubble size distribution at each time step and write the results as field variables in each time directory. They can be further processed using &quot;postProcess -func probe&quot; to probe the values on the required points.</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">\*---------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;twoPhaseMixtureThermo.H&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;fvCFD.H&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="a01636.html">   43</a></span>&#160;<span class="keyword">class </span><a class="code" href="a01636.html">BSDProperties</a></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    volScalarField&amp; M0;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    volScalarField&amp; M1;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    volScalarField&amp; M2;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keyword">const</span> volScalarField&amp; alpha1;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keyword">const</span> fvMesh&amp; mesh;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="a01636.html#aa00685f32d2df4746ea2ee221e46a6f8">BSDProperties</a></div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="a01636.html#aa00685f32d2df4746ea2ee221e46a6f8">   63</a></span>&#160;    (</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        volScalarField &amp;M0_, volScalarField &amp;M1_,</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        volScalarField &amp;M2_, volScalarField &amp;alpha1_,</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keyword">const</span> fvMesh &amp;mesh_</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    )</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    :</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    M0(M0_),</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    M1(M1_),</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    M2(M2_),</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    alpha1(alpha1_),</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    mesh(mesh_)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    {}</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="a01636.html#a87cb486514a31ee569a7370311c54c7d">   81</a></span>&#160;    volScalarField <a class="code" href="a01636.html#a87cb486514a31ee569a7370311c54c7d">meanBSD</a>()</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        volScalarField alphaCutOff</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        (</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            IOobject</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            (</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                <span class="stringliteral">&quot;alphaCutOff&quot;</span>,</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                mesh,</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                IOobject::READ_IF_PRESENT,</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                IOobject::NO_WRITE</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            ),</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            mesh,</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            dimensionedScalar(<span class="stringliteral">&quot;alphaCutOff&quot;</span>, dimless, 0.5)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        );</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        volScalarField insideFoam(pos(alphaCutOff - alpha1));</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        volScalarField mean_</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        (</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            IOobject</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            (</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <span class="stringliteral">&quot;mean_&quot;</span>,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                mesh,</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                IOobject::READ_IF_PRESENT,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                IOobject::NO_WRITE</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            ),</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            mesh,</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            dimensionedScalar(<span class="stringliteral">&quot;mean_&quot;</span>, dimless, 0.0)</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        );</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        forAll(mesh.C(), celli)</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            M0 = Foam::max(M0, dimensionedScalar(<span class="stringliteral">&quot;M0min&quot;</span>, M0.dimensions(), SMALL));</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            M1 = Foam::max(M1, dimensionedScalar(<span class="stringliteral">&quot;M1min&quot;</span>, M1.dimensions(), SMALL));</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            M2 = Foam::max(M2, dimensionedScalar(<span class="stringliteral">&quot;M2min&quot;</span>, M2.dimensions(), SMALL));</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            mean_[celli] = scalar(2.0)*Foam::log(M1[celli]/M0[celli]) -</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                           scalar(0.5)*Foam::log(M2[celli]/M0[celli]);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">return</span> (insideFoam*mean_);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="a01636.html#aeed4d6a028b5db545265420f516e2517">  123</a></span>&#160;    volScalarField <a class="code" href="a01636.html#aeed4d6a028b5db545265420f516e2517">varianceBSD</a>()</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        volScalarField alphaCutOff</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        (</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            IOobject</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            (</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                <span class="stringliteral">&quot;alphaCutOff&quot;</span>,</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                mesh,</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                IOobject::READ_IF_PRESENT,</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                IOobject::NO_WRITE</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            ),</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            mesh,</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            dimensionedScalar(<span class="stringliteral">&quot;alphaCutOff&quot;</span>, dimless, 0.5)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        );</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        volScalarField insideFoam(pos(alphaCutOff - alpha1));</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        volScalarField variance_</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        (</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            IOobject</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            (</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <span class="stringliteral">&quot;variance_&quot;</span>,</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                mesh,</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                IOobject::READ_IF_PRESENT,</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                IOobject::NO_WRITE</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            ),</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            mesh,</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            dimensionedScalar(<span class="stringliteral">&quot;variance_&quot;</span>, dimless, 0.0)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        );</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        forAll(mesh.C(), celli)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            M0 = Foam::max(M0, dimensionedScalar(<span class="stringliteral">&quot;M0min&quot;</span>, M0.dimensions(), SMALL));</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            M1 = Foam::max(M1, dimensionedScalar(<span class="stringliteral">&quot;M1min&quot;</span>, M1.dimensions(), SMALL));</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            M2 = Foam::max(M2, dimensionedScalar(<span class="stringliteral">&quot;M2min&quot;</span>, M2.dimensions(), SMALL));</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            variance_[celli] =</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                (</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                    scalar(2.0)*(</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    scalar(0.5)*Foam::log(M2[celli]/M0[celli])</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                  - Foam::log(M1[celli]/M0[celli])</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    )</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                );</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordflow">if</span> (variance_[celli] &lt; 0.0)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                variance_[celli] = 0.0;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">return</span> (insideFoam*variance_);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;};</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="keywordtype">int</span> <a class="code" href="a00797.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        timeSelector::addOptions();</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">#   include &quot;setRootCase.H&quot;</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">#   include &quot;createTime.H&quot;</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    instantList timeDirs = timeSelector::select0(runTime, args);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">#   include &quot;createMesh.H&quot;</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    forAll(timeDirs, timeI)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        runTime.setTime(timeDirs[timeI], timeI);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        Info&lt;&lt; <span class="stringliteral">&quot;Time = &quot;</span> &lt;&lt; runTime.timeName() &lt;&lt; endl;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        IOobject M0header</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        (</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="stringliteral">&quot;M0&quot;</span>,</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            runTime.timeName(),</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            mesh,</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            IOobject::MUST_READ</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        );</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        IOobject M1header</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        (</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="stringliteral">&quot;M1&quot;</span>,</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            runTime.timeName(),</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            mesh,</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            IOobject::MUST_READ</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        );</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        IOobject M2header</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        (</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="stringliteral">&quot;M2&quot;</span>,</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            runTime.timeName(),</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            mesh,</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            IOobject::MUST_READ</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        );</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="comment">// Check M0, M1 and M2 exist</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        (</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            M0header.headerOk()</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;         &amp;&amp; M1header.headerOk()</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;         &amp;&amp; M2header.headerOk()</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        )</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            mesh.readUpdate();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            Info&lt;&lt; <span class="stringliteral">&quot;    Reading M0&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            volScalarField M0(M0header, mesh);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            Info&lt;&lt; <span class="stringliteral">&quot;    Reading M1&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            volScalarField M1(M1header, mesh);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            Info&lt;&lt; <span class="stringliteral">&quot;    Reading M2&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            volScalarField M2(M2header, mesh);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            Info&lt;&lt; <span class="stringliteral">&quot;    Calculating BSD properties ... &quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            twoPhaseMixtureThermo mixture(mesh);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            volScalarField&amp; alpha1(mixture.alpha1());</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <a class="code" href="a01636.html">BSDProperties</a> mu(M0, M1, M2, alpha1, mesh);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            volScalarField BSDMean</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            (</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                IOobject</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    (</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                        <span class="stringliteral">&quot;BSDMean&quot;</span>,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                        runTime.timeName(),</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                        mesh,</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                        IOobject::NO_READ,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                        IOobject::AUTO_WRITE</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                    ),</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    mu.meanBSD()</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            );</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="comment">// Info&lt;&lt; &quot;BSDMean = &quot; &lt;&lt; BSDMean.internalField() &lt;&lt; endl;</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            BSDMean.write();</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <a class="code" href="a01636.html">BSDProperties</a> sigmaTwo(M0, M1, M2, alpha1, mesh);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            volScalarField BSDVariance</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            (</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                IOobject</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    (</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                        <span class="stringliteral">&quot;BSDVariance&quot;</span>,</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                        runTime.timeName(),</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                        mesh,</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                        IOobject::NO_READ,</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                        IOobject::AUTO_WRITE</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    ),</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    sigmaTwo.<a class="code" href="a01636.html#aeed4d6a028b5db545265420f516e2517">varianceBSD</a>()</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            );</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="comment">// Info&lt;&lt; &quot;BSDVariance = &quot; &lt;&lt; BSDVariance.internalField() &lt;&lt; endl;</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            BSDVariance.write();</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            Info&lt;&lt; <span class="stringliteral">&quot;    Moments are not available.&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        Info&lt;&lt; endl;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    Info&lt;&lt; nl &lt;&lt; <span class="stringliteral">&quot;ExecutionTime = &quot;</span> &lt;&lt; runTime.elapsedCpuTime() &lt;&lt; <span class="stringliteral">&quot; s&quot;</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  ClockTime = &quot;</span> &lt;&lt; runTime.elapsedClockTime() &lt;&lt; <span class="stringliteral">&quot; s&quot;</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        &lt;&lt; nl &lt;&lt; endl;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    Info&lt;&lt; <span class="stringliteral">&quot;End\n&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">// ************************************************************************* //</span></div><div class="ttc" id="a01636_html"><div class="ttname"><a href="a01636.html">BSDProperties</a></div><div class="ttdoc">this class is meant to compute the mean and variance of bubble/cell size distribution. </div><div class="ttdef"><b>Definition:</b> <a href="a00578_source.html#l00043">postProcessBSD.C:43</a></div></div>
<div class="ttc" id="a01636_html_a87cb486514a31ee569a7370311c54c7d"><div class="ttname"><a href="a01636.html#a87cb486514a31ee569a7370311c54c7d">BSDProperties::meanBSD</a></div><div class="ttdeci">volScalarField meanBSD()</div><div class="ttdoc">member function to calculate the mean of bubble size distribution </div><div class="ttdef"><b>Definition:</b> <a href="a00578_source.html#l00081">postProcessBSD.C:81</a></div></div>
<div class="ttc" id="a00797_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="a00797.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdoc">Reads parameters. Creates struts and walls. Saves foam morphology to a file. </div><div class="ttdef"><b>Definition:</b> <a href="a00797_source.html#l00023">foams.cc:23</a></div></div>
<div class="ttc" id="a01636_html_aa00685f32d2df4746ea2ee221e46a6f8"><div class="ttname"><a href="a01636.html#aa00685f32d2df4746ea2ee221e46a6f8">BSDProperties::BSDProperties</a></div><div class="ttdeci">BSDProperties(volScalarField &amp;M0_, volScalarField &amp;M1_, volScalarField &amp;M2_, volScalarField &amp;alpha1_, const fvMesh &amp;mesh_)</div><div class="ttdef"><b>Definition:</b> <a href="a00578_source.html#l00063">postProcessBSD.C:63</a></div></div>
<div class="ttc" id="a01636_html_aeed4d6a028b5db545265420f516e2517"><div class="ttname"><a href="a01636.html#aeed4d6a028b5db545265420f516e2517">BSDProperties::varianceBSD</a></div><div class="ttdeci">volScalarField varianceBSD()</div><div class="ttdoc">member function to compute the variance of bubble size distribution </div><div class="ttdef"><b>Definition:</b> <a href="a00578_source.html#l00123">postProcessBSD.C:123</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_a6e4fee11f07c3b70486e88fe92cbbdc.html">applications</a></li><li class="navelem"><a class="el" href="dir_51af77bf96c808942e27b526f462a604.html">PUfoam</a></li><li class="navelem"><a class="el" href="dir_714005141f1896c9a681822961e7ad61.html">MoDeNaModels</a></li><li class="navelem"><a class="el" href="dir_3b6dc5f06ea950be46c23a600d154195.html">CFD_tool_3D</a></li><li class="navelem"><a class="el" href="dir_4d20d75ab3678284253a4e7c7d794e49.html">applications</a></li><li class="navelem"><a class="el" href="dir_294c3d90d700b16de3a3c6a586e70750.html">postProcessBSD</a></li><li class="navelem"><a class="el" href="a00578.html">postProcessBSD.C</a></li>
    <li class="footer">Generated on Fri Jan 13 2017 16:47:18 for MoDeNa by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
