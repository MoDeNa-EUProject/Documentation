<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=9"/>
  <!-- For Mobile Devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="Doxygen 1.8.13"/>
    <title>MoDeNa: Surface Tension MoDeNa Module</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
/*@cond
  ooo        ooooo               .   oooo           oooo
  `88.       .888'             .o8   `888           `888
   888b     d'888   .oooo.   .o888oo  888 .oo.       888  .oooo.   oooo    ooo 
   8 Y88. .P  888  `P  )88b    888    888P"Y88b      888 `P  )88b   `88b..8P'
   8  `888'   888   .oP"888    888    888   888      888  .oP"888     Y888'
   8    Y     888  d8(  888    888 .  888   888      888 d8(  888   .o8"'88b
  o8o        o888o `Y888""8o   "888" o888o o888o .o. 88P `Y888""8o o88'   888o 
                                                 `Y888P
@endcond*/
/*
@brief     File configurating the connection to MathJax JavaScript display engine 
@author    Sigve Karolius
@date      2016.12.10
@details
         The script was made following the [Official Documentation].
         [Official Documentation]: http://docs.mathjax.org/en/latest/index.html
@bug
@todo
@warning
@note
*/
//<script type="text/x-mathjax-config">
/*
@brief: Main Control structure for MathJax
@note:
      [Official Documentation](http://docs.mathjax.org/en/latest/api/hub.html)
*/
MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    /// List of input and output jax to initialize at startup
    jax: ["input/TeX","output/HTML-CSS"],
    /// Preprocessor run when "tex2jax.js" is included in extensions list
    tex2jax: {
           /// Tags whose contents should not be processed by tex2jax
           skipTags: [
                       "script","noscript","style","textarea","pre","code",
           ],
           inlineMath: [['$','$'], ['\\(','\\)']],
           /// Pairs of strings used as in-line math delimters
           inlineMath: [['$','$'],['\\(','\\)']],
           /// Strings used as delimters for displayed equation
           displayMath: [['$$','$$'],['\\[','\\]']],
           /// Process LaTeX environments (\begin{something}) outside of "math"
           processEnvironments: true,
           /// Insert the text 'LaTeX math' as the preview
           preview: [" [LaTeX math] "],
           /// Tell MJ to process escapes (true because of $ in inline math
           processEscapes: true,  // Use \$ to represent literal dollar sign...
    },
    /// Control the TeX processor (run when you include "input/TeX" in jax)
    TeX: {
           /// MathJax has many TeX symbols and commands, but we need more...
           extensions: ["color.js"],
           equationNumbers: {
                autoNumber: "AMS",
           },
           /// Macros defined before the TeX input processor begins
           Macros: {
              xspace: '',     // not processed by MathJax, replace empty string
              ensuremath: '', // not processed by MathJax, replace empty string
           },
    },
});
/*
@brief: Registers a listener for a particular message being sent to the startup signal
@date:  2016.12.10
@note:
      [Official Documentation](http://docs.mathjax.org/en/latest/api/hub.html)
*/
MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
  MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
    cancel: ["Extension","cancel"],
    bcancel: ["Extension","cancel"],
    xcancel: ["Extension","cancel"],
    cancelto: ["Extension","cancel"],
    textcolor: ["Extension", "color"],
  });
});
//</script>
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <!--  .......................................................................
        Syntax Highlighting
        .......................................................................
  <script type="text/javascript" src="highlight.pack.js"></script>
  <script type="text/javascript">
  $(function() {
    $(".fragment").each(function(i,node) {
        var $node = $(node);
        $node.html("<pre><code class='" +
                   $node.attr("class")+"'>" + 
                   $node.text()+"</code></pre>");
        hljs.highlightBlock(node);
    });
  });
  </script>
  -->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="modena_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MoDeNa
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Software framework facilitating sequential multi-scale modelling</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a01174.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<div class="title">Surface Tension MoDeNa Module<div class="ingroups"><a class="el" href="a01145.html">Models</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Integrates Surface Tension model into the MoDeNa software framework.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:a01175"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01175.html">Example Workflow</a></td></tr>
<tr class="memdesc:a01175"><td class="mdescLeft">&#160;</td><td class="mdescRight">Integrates Surface Tension model into the MoDeNa software framework. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01176"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01176.html">Fortran Source Code</a></td></tr>
<tr class="memdesc:a01176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Source Code Documentation. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:a01316"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01316.html">SurfaceTension</a></td></tr>
<tr class="memdesc:a01316"><td class="mdescLeft">&#160;</td><td class="mdescRight">MoDeNa Module definition of the Surface Tension Model. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01330"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01330.html">SurfaceTension.SurfaceTension</a></td></tr>
<tr class="memdesc:a01330"><td class="mdescLeft">&#160;</td><td class="mdescRight">Surrogate Function, Surrogate Model templates and Model Recipe. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Integrates Surface Tension model into the MoDeNa software framework. </p>
<p><a class="el" href="a01330.html#ae2d72e8deba4804337830478cb1f3aee">SurfaceTension.SurfaceTension.m</a> Surrogate Model <a class="el" href="a01330.html#a54435e44e92e7758bf059da8069e6090">SurfaceTension.SurfaceTension.m2</a> Surrogate Model <a class="el" href="a03516.html#dep_Surfacetension">Dependencies of Surface tension model</a></p>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd></dd></dl>
<dl class="section warning"><dt>Warning</dt><dd></dd></dl>


<h3><a id="md_applications_PUfoam_MoDeNaModels_SurfaceTension_README"></a>README</h3><div class="textblock"><h1>Surface Tension </h1>
<h2>Scope of this module</h2>
The surface tension module returns the surface tension of a fluid system in equilibrium with coexisting liquid and vapor phases. The module consists of two main components:<ul>
<li>The detailed model</li>
<li>The surrogate model</li>
</ul>
A PC-SAFT based density functional theory is used as the detailed model, the details of which are outlined in <a class="el" href="a04315.html#CITEREF_gross_2009">[2]</a> . However, here we use a modification which is computationally less demanding and can be applied to systems of more than two components. The detailed model takes temperature as input. Pressure is set to one bar in all calculations. The output of the model is the surface tension of the system.Since surface tension shows an almost perfectly linear temperature dependence, the surrogate model is a simple linear equation in temperature: $\gamma(T) = A + BT$ where A and B are adjustable parameters.A nonlinear least-squares algorithm is used to determine the optimal values of these parameters in order to correlate the results of the detailed model as closely as possible.In order to compile and run the module a fortran compiler, preferably gfortran, as well as Portable, Extensible Toolkit for Scientific Computation (<a href="(https://www.mcs.anl.gov/petsc/)">PETSc</a>) 3.4.5 need to be installed. <a href="(https://www.mcs.anl.gov/petsc/)">PETSc</a> 3.4.5 requires specific versions of MPI, BLAS, Lapack and Scalapack. In order to ensure compatibility, PETSc should be configured to automatically download and install the correct versions, see section Installing PETSc.As there is no backward compatibility of different versions of PETSc, older as well as newer version of PETSc will most likely not work.PETSc should be configured with the following options:<div class="fragment"><div class="line">./configure --with-cc=gcc --with-fc=gfortran --download-f-blas-lapack --download-mpich --download-scalapak=yes</div></div><!-- fragment -->Furthermore, the variables PETSC_DIR and PETSC_ARCH need to be set.<div class="fragment"><div class="line">cd src</div><div class="line">make DFT</div></div><!-- fragment --><div class="fragment"><div class="line">cd src</div><div class="line">make run_mf</div></div><!-- fragment --><table class="doxtable">
<tr>
<th>Input </th><th>Symbol </th><th>Unit  </th></tr>
<tr>
<td>Temperature </td><td>T </td><td>K </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Output </th><th>Symbol </th><th>Unit  </th></tr>
<tr>
<td>Surface Tension </td><td>ST </td><td>mN/m </td></tr>
</table>
On initialisation of the module, the surrogate model parameters are adjusted to the initial data points which have to be set in the module prior to program execution. Subsequently, as long as the input temperatures do not fall outside this initial temperature intervall, only the surrogate model is evaluated at a model call. Once the module is called with a temperature outside this intervall, new data points are generated according to the <em>out of bounds strategy</em> which also needs to be specified in the module and the parameters of the surrogate model are readjusted. </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Jan 13 2017 16:47:20 for MoDeNa by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
